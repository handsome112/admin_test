{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{\"2yP/\":function(e,t,r){\"use strict\";r(\"AyyA\");var n=r(\"S82o\");r.d(t,\"a\",(function(){return n.a}));var o=r(\"hZ3H\");r.d(t,\"b\",(function(){return o.a}))},\"7QX/\":function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return c}));var n=r(\"1OyB\"),o=r(\"vuIU\"),a=r(\"Ji7U\"),i=r(\"md7G\"),u=r(\"foSv\");function l(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var o=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(i.a)(this,r)}}var c=new(function(e){Object(a.a)(r,e);var t=l(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:\"uploadPhoto\",value:function(e,t,r){return this.upload(\"/admin/performer-assets/photos/upload\",[{fieldname:\"photo\",file:e}],{onProgress:r,customData:t})}},{key:\"search\",value:function(e){return this.get(this.buildUrl(\"/admin/performer-assets/photos/search\",e))}},{key:\"findById\",value:function(e){return this.get(\"/admin/performer-assets/photos/\".concat(e,\"/view\"))}},{key:\"update\",value:function(e,t){return this.put(\"/admin/performer-assets/photos/\".concat(e),t)}},{key:\"delete\",value:function(e){return this.del(\"/admin/performer-assets/photos/\".concat(e))}}]),r}(r(\"/bfT\").a))},Dlvs:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return E}));var n=r(\"wx14\"),o=r(\"o0o1\"),a=r.n(o),i=r(\"HaE+\"),u=r(\"1OyB\"),l=r(\"vuIU\"),c=r(\"JX7q\"),s=r(\"Ji7U\"),f=r(\"md7G\"),m=r(\"foSv\"),p=r(\"rePB\"),b=r(\"q1tI\"),h=r.n(b),_=r(\"tsqr\"),d=r(\"Vl3Y\"),N=r(\"5rEg\"),v=r(\"2fM7\"),y=r(\"8z0m\"),O=r(\"2/Rp\"),j=r(\"CFYs\"),g=r(\"z7Xi\"),w=r(\"ufQV\"),I=r(\"QThW\"),R=r(\"8UjJ\"),P=r(\"Rb4M\"),k=\"/var/www/admin.dtest.live/src/components/photo/form-upload-photo.tsx\",B=h.a.createElement;function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}var q={labelCol:{span:4},wrapperCol:{span:16}},S={required:\"This field is required!\"},E=function(e){Object(s.a)(r,e);var t=V(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(p.a)(Object(c.a)(e),\"state\",{preview:null,galleries:[]}),Object(p.a)(Object(c.a)(e),\"formRef\",void 0),e}return Object(l.a)(r,[{key:\"componentDidMount\",value:function(){this.formRef||(this.formRef=Object(b.createRef)());var e=this.props.photo,t=e&&e.performerId||this.props.performerId||\"\";t&&this.findGalleries(t)}},{key:\"findGalleries\",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.search({performerId:t,limit:1e3});case 2:r=e.sent,this.setState({galleries:r.data.data||[]});case 4:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"setFormVal\",value:function(e,t){this.formRef.current.setFieldsValue(Object(p.a)({},e,t)),\"performerId\"===e&&this.findGalleries(t)}},{key:\"beforeUpload\",value:function(e){var t=this,r=e.name.split(\".\").pop().toLowerCase();if(-1===\".jpeg, .jpg, .png\".split(\",\").map((function(e){return e.trim()})).indexOf(\".\".concat(r)))return _.a.error(\"You can only upload \".concat(\".jpeg, .jpg, .png\",\" file!\")),!1;if(!(e.size/1024/1024<\"2\"))return _.a.error(\"Image must smaller than \".concat(\"2\",\"MB!\")),!1;var n=new FileReader;return n.addEventListener(\"load\",(function(){return t.setState({preview:n.result})})),n.readAsDataURL(e),this.props.beforeUpload(e),!1}},{key:\"render\",value:function(){var e=this;this.formRef||(this.formRef=Object(b.createRef)());var t=this.props,r=t.photo,o=t.submit,a=t.uploading,i=t.uploadPercentage,u=t.galleryId,l=this.state.preview,c=!!r;return B(d.a,Object(n.a)({},q,{onFinish:o&&o.bind(this),onFinishFailed:function(){return _.a.error(\"Please complete the required fields\")},name:\"form-upload\",ref:this.formRef,validateMessages:S,initialValues:r||{title:\"\",description:\"\",status:\"draft\",performerId:this.props.performerId||\"\",galleryId:this.props.galleryId||\"\"},__self:this,__source:{fileName:k,lineNumber:111,columnNumber:7}}),B(d.a.Item,{name:\"performerId\",label:\"Performer\",rules:[{required:!0}],__self:this,__source:{fileName:k,lineNumber:132,columnNumber:9}},B(w.a,{disabled:c,defaultValue:r&&r.performerId||this.props.performerId||\"\",onSelect:function(t){return e.setFormVal(\"performerId\",t)},__self:this,__source:{fileName:k,lineNumber:137,columnNumber:11}})),B(d.a.Item,{name:\"galleryId\",label:\"Gallery\",rules:[{required:!0,message:\"Please select a gallery\"}],__self:this,__source:{fileName:k,lineNumber:145,columnNumber:9}},B(R.a,{galleries:this.state.galleries,disabled:this.state.galleries.length<=0,defaultValue:r&&r.galleryId?r.galleryId:u||null,onSelect:function(t){return e.setFormVal(\"galleryId\",t)},__self:this,__source:{fileName:k,lineNumber:150,columnNumber:11}})),B(d.a.Item,{name:\"title\",rules:[{required:!0,message:\"Please input title of photo!\"}],label:\"Title\",__self:this,__source:{fileName:k,lineNumber:163,columnNumber:9}},B(N.a,{placeholder:\"Enter photo title\",__self:this,__source:{fileName:k,lineNumber:168,columnNumber:11}})),B(d.a.Item,{name:\"description\",label:\"Description\",__self:this,__source:{fileName:k,lineNumber:170,columnNumber:9}},B(N.a.TextArea,{rows:3,__self:this,__source:{fileName:k,lineNumber:171,columnNumber:11}})),B(d.a.Item,{name:\"status\",label:\"Status\",rules:[{required:!0,message:\"Please select status!\"}],__self:this,__source:{fileName:k,lineNumber:173,columnNumber:9}},B(v.a,{__self:this,__source:{fileName:k,lineNumber:178,columnNumber:11}},B(v.a.Option,{value:\"draft\",__self:this,__source:{fileName:k,lineNumber:179,columnNumber:13}},\"Draft\"),B(v.a.Option,{key:\"active\",value:\"active\",__self:this,__source:{fileName:k,lineNumber:180,columnNumber:13}},\"Active\"),B(v.a.Option,{key:\"inactive\",value:\"inactive\",__self:this,__source:{fileName:k,lineNumber:183,columnNumber:13}},\"Inactive\"))),B(b.Fragment,{__self:this,__source:{fileName:k,lineNumber:188,columnNumber:9}},B(\"div\",{key:\"thumbnail\",className:\"ant-row ant-form-item\",__self:this,__source:{fileName:k,lineNumber:189,columnNumber:11}},B(\"div\",{className:\"ant-col ant-col-4 ant-form-item-label\",__self:this,__source:{fileName:k,lineNumber:190,columnNumber:13}},B(\"label\",{__self:this,__source:{fileName:k,lineNumber:191,columnNumber:15}},\"Photo\")),B(\"div\",{className:\"ant-col ant-col-16 ant-form-item-control\",__self:this,__source:{fileName:k,lineNumber:193,columnNumber:13}},c?B(I.a,{photo:r,style:{width:\"250px\"},__self:this,__source:{fileName:k,lineNumber:222,columnNumber:17}}):B(b.Fragment,{__self:this,__source:{fileName:k,lineNumber:195,columnNumber:17}},B(y.a,{accept:\".jpeg, .jpg, .png\",multiple:!1,showUploadList:!1,disabled:a||c,beforeUpload:function(t){return e.beforeUpload(t)},__self:this,__source:{fileName:k,lineNumber:196,columnNumber:19}},l?B(\"img\",{src:l,alt:\"file\",style:{width:\"250px\",marginBottom:\"10px\"},__self:this,__source:{fileName:k,lineNumber:204,columnNumber:23}}):null,B(\"div\",{style:{clear:\"both\"},__self:this,__source:{fileName:k,lineNumber:210,columnNumber:21}}),!c&&B(O.a,{__self:this,__source:{fileName:k,lineNumber:212,columnNumber:23}},B(g.a,{__self:this,__source:{fileName:k,lineNumber:213,columnNumber:25}}),\" Select File\")),i?B(j.a,{percent:i,__self:this,__source:{fileName:k,lineNumber:218,columnNumber:21}}):null),B(\"div\",{className:\"ant-form-item-explain\",__self:this,__source:{fileName:k,lineNumber:224,columnNumber:15}},B(\"div\",{__self:this,__source:{fileName:k,lineNumber:225,columnNumber:17}},\"Image must smaller than \",\"2\",\"MB! Only accept \",\".jpeg, .jpg, .png\",\".\"))))),B(d.a.Item,{wrapperCol:U(U({},q.wrapperCol),{},{offset:4}),__self:this,__source:{fileName:k,lineNumber:233,columnNumber:9}},B(O.a,{type:\"primary\",htmlType:\"submit\",loading:a,__self:this,__source:{fileName:k,lineNumber:234,columnNumber:11}},c?\"Update\":\"Upload\")))}}]),r}(b.PureComponent)},QThW:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return f}));var n=r(\"1OyB\"),o=r(\"vuIU\"),a=r(\"Ji7U\"),i=r(\"md7G\"),u=r(\"foSv\"),l=r(\"q1tI\"),c=r.n(l).a.createElement;function s(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var o=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(i.a)(this,r)}}var f=function(e){Object(a.a)(r,e);var t=s(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:\"render\",value:function(){var e=this.props.photo.photo,t=e&&e.thumbnails&&e.thumbnails.length>0?e.thumbnails[0]:\"/camera.png\";return c(\"img\",{src:t,style:this.props.style||{width:90},__self:this,__source:{fileName:\"/var/www/admin.dtest.live/src/components/photo/thumbnail-photo.tsx\",lineNumber:16,columnNumber:12}})}}]),r}(l.PureComponent)},S82o:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return d}));var n=r(\"1OyB\"),o=r(\"vuIU\"),a=r(\"Ji7U\"),i=r(\"md7G\"),u=r(\"foSv\"),l=r(\"q1tI\"),c=r.n(l),s=r(\"bE4q\"),f=r(\"uqfK\"),m=r(\"YFqc\"),p=r.n(m),b=\"/var/www/admin.dtest.live/src/components/common/breadcrumb.tsx\",h=c.a.createElement;function _(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var o=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(i.a)(this,r)}}var d=function(e){Object(a.a)(r,e);var t=_(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:\"render\",value:function(){var e=this,t=this.props.breadcrumbs;return h(\"div\",{style:{marginBottom:\"16px\"},__self:this,__source:{fileName:b,lineNumber:19,columnNumber:7}},h(s.a,{__self:this,__source:{fileName:b,lineNumber:20,columnNumber:9}},h(s.a.Item,{href:\"/dashboard\",__self:this,__source:{fileName:b,lineNumber:21,columnNumber:11}},h(f.a,{__self:this,__source:{fileName:b,lineNumber:22,columnNumber:13}})),t&&t.length>0&&t.map((function(t,r){return h(s.a.Item,{key:r,__self:e,__source:{fileName:b,lineNumber:27,columnNumber:15}},t.href?h(p.a,{href:t.href,__self:e,__source:{fileName:b,lineNumber:29,columnNumber:19}},h(\"a\",{__self:e,__source:{fileName:b,lineNumber:30,columnNumber:21}},t.title)):t.title)}))))}}]),r}(l.PureComponent)},hZ3H:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return O}));var n=r(\"wx14\"),o=r(\"rePB\"),a=r(\"1OyB\"),i=r(\"vuIU\"),u=r(\"Ji7U\"),l=r(\"md7G\"),c=r(\"foSv\"),s=r(\"q1tI\"),f=r.n(s),m=r(\"8Skl\"),p=r(\"BvKs\"),b=r(\"jsC+\"),h=r(\"2/Rp\"),_=\"/var/www/admin.dtest.live/src/components/common/dropdown-action.tsx\",d=f.a.createElement;function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var o=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var O=function(e){Object(u.a)(r,e);var t=y(r);function r(){return Object(a.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:\"render\",value:function(){var e=this,t=this.props,r=t.menuOptions,o=void 0===r?[]:r,a=t.buttonStyle,i=t.dropdownProps,u=t.nameButtonMain,l=o.map((function(t){return d(p.a.Item,{key:t.key,onClick:function(){return t.onClick&&t.onClick()},__self:e,__source:{fileName:_,lineNumber:28,columnNumber:7}},t.children||t.name)}));return d(b.a,Object(n.a)({overlay:d(p.a,{__self:this,__source:{fileName:_,lineNumber:33,columnNumber:26}},l)},i,{__self:this,__source:{fileName:_,lineNumber:33,columnNumber:7}}),d(h.a,{style:v({},a),__self:this,__source:{fileName:_,lineNumber:34,columnNumber:9}},u||\"Action\",d(m.a,{__self:this,__source:{fileName:_,lineNumber:36,columnNumber:11}})))}}]),r}(s.PureComponent)},uqfK:function(e,t,r){\"use strict\";var n=r(\"q1tI\"),o={name:\"home\",theme:\"outlined\",icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z\"}}]}},a=r(\"6VBw\"),i=function(e,t){return n.createElement(a.a,Object.assign({},e,{ref:t,icon:o}))};i.displayName=\"HomeOutlined\";t.a=n.forwardRef(i)},z7Xi:function(e,t,r){\"use strict\";var n=r(\"q1tI\"),o={name:\"upload\",theme:\"outlined\",icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z\"}}]}},a=r(\"6VBw\"),i=function(e,t){return n.createElement(a.a,Object.assign({},e,{ref:t,icon:o}))};i.displayName=\"UploadOutlined\";t.a=n.forwardRef(i)}}]);","extractedComments":[]}