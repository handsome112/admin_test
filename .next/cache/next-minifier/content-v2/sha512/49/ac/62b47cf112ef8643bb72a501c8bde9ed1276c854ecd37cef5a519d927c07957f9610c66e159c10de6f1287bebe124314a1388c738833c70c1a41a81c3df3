{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{\"7cpM\":function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var r=n(\"1OyB\"),a=n(\"vuIU\"),u=n(\"Ji7U\"),i=n(\"md7G\"),c=n(\"foSv\");function l(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var a=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(i.a)(this,n)}}var s=new(function(e){Object(u.a)(n,e);var t=l(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:\"findAll\",value:function(){return this.get(\"/mailer/templates\")}},{key:\"findById\",value:function(e){return this.get(\"/mailer/templates/\".concat(e))}},{key:\"update\",value:function(e,t){return this.put(\"/mailer/templates/\".concat(e),t)}}]),n}(n(\"/bfT\").a))},fZuF:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/email-templates/update\",function(){return n(\"jN37\")}])},jN37:function(e,t,n){\"use strict\";n.r(t);var r=n(\"o0o1\"),a=n.n(r),u=n(\"HaE+\"),i=n(\"1OyB\"),c=n(\"vuIU\"),l=n(\"JX7q\"),s=n(\"Ji7U\"),o=n(\"md7G\"),m=n(\"foSv\"),f=n(\"rePB\"),b=n(\"q1tI\"),p=n.n(b),_=n(\"8Kt/\"),h=n.n(_),N=n(\"Bfpx\"),d=n(\"a6RD\"),v=n.n(d),y=n(\"tsqr\"),O=n(\"bE4q\"),g=n(\"Vl3Y\"),j=n(\"5rEg\"),w=n(\"2fM7\"),k=n(\"2/Rp\"),P=n(\"uqfK\"),I=n(\"TW7V\"),x=n(\"7cpM\"),B=\"/var/www/admin.dtest.live/pages/email-templates/update.tsx\",R=p.a.createElement;function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(o.a)(this,n)}}var q=v()((function(){return Promise.all([n.e(33),n.e(3),n.e(35)]).then(n.bind(null,\"KJL1\"))}),{ssr:!1,loadableGenerated:{webpack:function(){return[\"KJL1\"]},modules:[\"@components/wysiwyg\"]}}),C=function(e){Object(s.a)(n,e);var t=V(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return e=t.call.apply(t,[this].concat(a)),Object(f.a)(Object(l.a)(e),\"_content\",\"\"),Object(f.a)(Object(l.a)(e),\"state\",{submitting:!1,fetching:!0,template:null}),e}return Object(c.a)(n,[{key:\"componentDidMount\",value:function(){var e=Object(u.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.id,e.next=4,x.a.findById(t);case 4:n=e.sent,this._content=n.data.content,this.setState({template:n.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),y.a.error(\"Email template not found!\");case 12:return e.prev=12,this.setState({fetching:!1}),e.finish(12);case 15:case\"end\":return e.stop()}}),e,this,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}()},{key:\"submit\",value:function(){var e=Object(u.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({submitting:!0}),n=this.props.id,r=S(S({},t),{},{content:this._content}),e.next=6,x.a.update(n,r);case 6:y.a.success(\"Updated successfully\"),this.setState({submitting:!1}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),y.a.error(\"Something went wrong, please try again!\"),this.setState({submitting:!1});case 14:case\"end\":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:\"contentChange\",value:function(e){this._content=e.html}},{key:\"render\",value:function(){var e=this.state,t=e.template,n=e.fetching,r=e.submitting;return R(p.a.Fragment,null,R(h.a,{__self:this,__source:{fileName:B,lineNumber:69,columnNumber:9}},R(\"title\",{__self:this,__source:{fileName:B,lineNumber:70,columnNumber:11}},\"Update template\")),R(\"div\",{style:{marginBottom:\"16px\"},__self:this,__source:{fileName:B,lineNumber:72,columnNumber:9}},R(O.a,{__self:this,__source:{fileName:B,lineNumber:73,columnNumber:11}},R(O.a.Item,{href:\"/dashboard\",__self:this,__source:{fileName:B,lineNumber:74,columnNumber:13}},R(P.a,{__self:this,__source:{fileName:B,lineNumber:75,columnNumber:15}})),R(O.a.Item,{href:\"/email-templates\",__self:this,__source:{fileName:B,lineNumber:77,columnNumber:13}},R(\"span\",{__self:this,__source:{fileName:B,lineNumber:78,columnNumber:15}},\"Email templates\")),R(O.a.Item,{__self:this,__source:{fileName:B,lineNumber:80,columnNumber:13}},null===t||void 0===t?void 0:t.name),R(O.a.Item,{__self:this,__source:{fileName:B,lineNumber:81,columnNumber:13}},\"Update\"))),R(N.a,{__self:this,__source:{fileName:B,lineNumber:85,columnNumber:9}},!t||n?R(I.a,{__self:this,__source:{fileName:B,lineNumber:87,columnNumber:13}}):R(g.a,{onFinish:this.submit.bind(this),initialValues:t,labelCol:{span:4},wrapperCol:{span:20},__self:this,__source:{fileName:B,lineNumber:89,columnNumber:13}},R(g.a.Item,{name:\"subject\",rules:[{required:!0,message:\"Please enter subject!\"}],label:\"Subject\",__self:this,__source:{fileName:B,lineNumber:95,columnNumber:15}},R(j.a,{placeholder:\"Enter your title\",__self:this,__source:{fileName:B,lineNumber:100,columnNumber:17}})),R(g.a.Item,{label:\"Content\",__self:this,__source:{fileName:B,lineNumber:103,columnNumber:15}},R(q,{onChange:this.contentChange.bind(this),html:this._content,__self:this,__source:{fileName:B,lineNumber:104,columnNumber:17}}),R(\"p\",{__self:this,__source:{fileName:B,lineNumber:108,columnNumber:17}},R(\"i\",{__self:this,__source:{fileName:B,lineNumber:108,columnNumber:20}},null===t||void 0===t?void 0:t.description))),R(g.a.Item,{name:\"layout\",label:\"Layout\",__self:this,__source:{fileName:B,lineNumber:110,columnNumber:15}},R(w.a,{__self:this,__source:{fileName:B,lineNumber:114,columnNumber:17}},R(w.a.Option,{value:\"layouts/default\",__self:this,__source:{fileName:B,lineNumber:115,columnNumber:19}},\"Default\"),R(w.a.Option,{value:\"blank\",__self:this,__source:{fileName:B,lineNumber:116,columnNumber:19}},\"Blank\"))),R(g.a.Item,{wrapperCol:{offset:4},__self:this,__source:{fileName:B,lineNumber:120,columnNumber:15}},R(k.a,{type:\"primary\",htmlType:\"submit\",style:{float:\"right\"},loading:r,__self:this,__source:{fileName:B,lineNumber:121,columnNumber:17}},\"Submit\")))))}}],[{key:\"getInitialProps\",value:function(){var e=Object(u.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ctx,r=n.query,e.abrupt(\"return\",r);case 3:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(b.PureComponent);t.default=C},uqfK:function(e,t,n){\"use strict\";var r=n(\"q1tI\"),a={name:\"home\",theme:\"outlined\",icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z\"}}]}},u=n(\"6VBw\"),i=function(e,t){return r.createElement(u.a,Object.assign({},e,{ref:t,icon:a}))};i.displayName=\"HomeOutlined\";t.a=r.forwardRef(i)}},[[\"fZuF\",0,1,9,2,4,5,6,7,8,10,11,12,13,14,15,16,21,31,3]]]);","extractedComments":[]}