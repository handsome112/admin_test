(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{"4zgj":function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/banner/update",function(){return r("gAej")}])},gAej:function(e,t,r){"use strict";r.r(t);var n=r("o0o1"),a=r.n(n),i=r("HaE+"),c=r("1OyB"),u=r("vuIU"),s=r("JX7q"),o=r("Ji7U"),f=r("md7G"),l=r("foSv"),p=r("rePB"),b=r("q1tI"),m=r.n(b),h=r("8Kt/"),v=r.n(h),d=r("Bfpx"),y=r("tsqr"),O=r("Kmg5"),_=r("TW7V"),g=r("2yP/"),w=r("1dGh"),j="/var/www/admin.dtest.live/pages/banner/update.tsx",N=m.a.createElement;function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var a=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}var S=function(e){Object(o.a)(r,e);var t=x(r);function r(){var e;Object(c.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),Object(p.a)(Object(s.a)(e),"state",{submitting:!1,fetching:!0,banner:{}}),e}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.id,e.prev=1,e.next=4,O.a.findById(t);case 4:r=e.sent,this.setState({banner:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),y.a.error("No data found!");case 11:return e.prev=11,this.setState({fetching:!1}),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props.id,e.prev=1,this.setState({submitting:!0}),n=k({},t),e.next=6,O.a.update(r,n);case 6:y.a.success("Updated successfully"),this.setState({submitting:!1}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),y.a.error("Something went wrong, please try again!"),this.setState({submitting:!1});case 14:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.banner,r=e.submitting,n=e.fetching;return N(m.a.Fragment,null,N(v.a,{__self:this,__source:{fileName:j,lineNumber:59,columnNumber:9}},N("title",{__self:this,__source:{fileName:j,lineNumber:60,columnNumber:11}},"Update Banner")),N(g.a,{breadcrumbs:[{title:"Banners",href:"/banner"},{title:t.title?t.title:"Detail banner"},{title:"Update"}],__self:this,__source:{fileName:j,lineNumber:62,columnNumber:9}}),N(d.a,{__self:this,__source:{fileName:j,lineNumber:69,columnNumber:9}},n?N(_.a,{__self:this,__source:{fileName:j,lineNumber:71,columnNumber:13}}):N(w.a,{banner:t,submit:this.submit.bind(this),uploading:r,__self:this,__source:{fileName:j,lineNumber:73,columnNumber:13}})))}}],[{key:"getInitialProps",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ctx,e.abrupt("return",r.query);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),r}(b.PureComponent);t.default=S}},[["4zgj",0,1,9,16,2,4,5,6,7,10,8,12,11,13,14,15,17,18,19,20,21,28,39,3]]]);