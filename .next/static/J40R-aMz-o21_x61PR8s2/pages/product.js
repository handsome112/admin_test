(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{"/MfK":function(e,t,r){"use strict";var n=r("q1tI"),c={name:"delete",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]}},a=r("6VBw"),u=function(e,t){return n.createElement(a.a,Object.assign({},e,{ref:t,icon:c}))};u.displayName="DeleteOutlined";t.a=n.forwardRef(u)},"1B2r":function(e,t,r){"use strict";r.r(t);var n=r("o0o1"),c=r.n(n),a=r("HaE+"),u=r("1OyB"),o=r("vuIU"),i=r("JX7q"),s=r("Ji7U"),l=r("md7G"),f=r("foSv"),m=r("rePB"),p=r("q1tI"),d=r.n(p),h=r("8Kt/"),b=r.n(h),_=r("tsqr"),v=r("Bfpx"),y=r("HR6+"),N=r("AyyA"),O=r("mr32"),j=r("wCAj"),g=r("G3dp"),w=r("/MfK"),x=r("ADto"),P=r("YFqc"),k=r.n(P),B=r("na2x"),R=r("hZ3H"),I="/var/www/admin.dtest.live/src/components/product/table-list-product.tsx",S=d.a.createElement;function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var c=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var E=function(e){Object(s.a)(r,e);var t=A(r);function r(){return Object(u.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){var e=this,t=[{title:"",dataIndex:"image",render:function(e,t){return S(B.a,{product:t,__self:this,__source:{fileName:I,lineNumber:27,columnNumber:18}})},responsive:["md"]},{title:"Name",dataIndex:"name",sorter:!0,fixed:"left"},{title:"Token",dataIndex:"token",sorter:!0,render:function(e){return S("span",{__self:this,__source:{fileName:I,lineNumber:42,columnNumber:18}},e)}},{title:"Stock",dataIndex:"stock",sorter:!0,render:function(e){return S("span",{__self:this,__source:{fileName:I,lineNumber:50,columnNumber:18}},e||0)}},{title:"Type",dataIndex:"type",sorter:!0,render:function(e){return S("span",{__self:this,__source:{fileName:I,lineNumber:58,columnNumber:18}},e)}},{title:"Status",dataIndex:"status",sorter:!0,render:function(e){switch(e){case"active":return S(O.a,{color:"green",__self:this,__source:{fileName:I,lineNumber:68,columnNumber:22}},"Active");case"inactive":return S(O.a,{color:"red",__self:this,__source:{fileName:I,lineNumber:70,columnNumber:22}},"Inactive")}return S(O.a,{color:"default",__self:this,__source:{fileName:I,lineNumber:72,columnNumber:18}},e)}},{title:"Performer",dataIndex:"performer",render:function(e,t){return S("span",{__self:this,__source:{fileName:I,lineNumber:79,columnNumber:18}},t.performer&&t.performer.username)}},{title:"Last update",dataIndex:"updatedAt",sorter:!0,render:function(e){return S("span",{__self:this,__source:{fileName:I,lineNumber:87,columnNumber:18}},Object(x.b)(e))}},{title:"Actions",dataIndex:"_id",fixed:"right",render:function(t){return S(R.a,{menuOptions:[{key:"update",name:"Update",children:S(k.a,{href:{pathname:"/product/update",query:{id:t}},as:"/product/update?id=".concat(t),__self:e,__source:{fileName:I,lineNumber:102,columnNumber:21}},S("a",{__self:e,__source:{fileName:I,lineNumber:109,columnNumber:23}},S(g.a,{__self:e,__source:{fileName:I,lineNumber:110,columnNumber:25}})," Update"))},{key:"delete",name:"Delete",children:S("span",{__self:e,__source:{fileName:I,lineNumber:119,columnNumber:21}},S(w.a,{__self:e,__source:{fileName:I,lineNumber:120,columnNumber:23}})," Delete"),onClick:function(){return e.props.deleteProduct&&e.props.deleteProduct(t)}}],__self:e,__source:{fileName:I,lineNumber:96,columnNumber:13}})}}],r=this.props,n=r.dataSource,c=r.rowKey,a=r.loading,u=r.pagination,o=r.onChange;return S(j.a,{dataSource:n,columns:t,rowKey:c,loading:a,pagination:u,onChange:o.bind(this),size:"small",scroll:{x:700,y:650},__self:this,__source:{fileName:I,lineNumber:134,columnNumber:7}})}}]),r}(p.PureComponent),q=r("2yP/"),C="/var/www/admin.dtest.live/pages/product/index.tsx",D=d.a.createElement;function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){Object(m.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var c=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var M=function(e){Object(s.a)(r,e);var t=z(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return e=t.call.apply(t,[this].concat(c)),Object(m.a)(Object(i.a)(e),"state",{pagination:{},searching:!1,list:[],limit:10,filter:{},sortBy:"createdAt",sort:"desc"}),Object(m.a)(Object(i.a)(e),"handleTableChange",(function(t,r,n){var c=U({},e.state.pagination);c.current=t.current,e.setState({pagination:c,sortBy:n.field||"createdAt",sort:n.order?"descend"===n.order?"desc":"asc":"desc"}),e.search(c.current)})),e}return Object(o.a)(r,[{key:"componentDidMount",value:function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.performerId){e.next=3;break}return e.next=3,this.setState({filter:U(U({},this.state.filter),{performerId:this.props.performerId})});case 3:this.search();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(a.a)(c.a.mark((function e(){var t,r,n=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:1,e.prev=1,e.next=4,this.setState({searching:!0});case 4:return e.next=6,y.a.search(U(U({},this.state.filter),{},{limit:this.state.limit,offset:(t-1)*this.state.limit,sort:this.state.sort,sortBy:this.state.sortBy}));case 6:return r=e.sent,e.next=9,this.setState({searching:!1,list:r.data.data,pagination:U(U({},this.state.pagination),{},{total:r.data.total,pageSize:this.state.limit})});case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(1),_.a.error("An error occurred, please try again!"),e.next=16,this.setState({searching:!1});case 16:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleFilter",value:function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({filter:t});case 2:this.search();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteProduct",value:function(){var e=Object(a.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm("Are you sure you want to delete this product?")){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,y.a.delete(t);case 5:return _.a.success("Deleted successfully"),e.next=8,this.search(this.state.pagination.current);case 8:e.next=19;break;case 10:return e.prev=10,e.t0=e.catch(2),e.next=14,Promise.resolve(e.t0);case 14:if(e.t1=e.sent,e.t1){e.next=17;break}e.t1={};case 17:r=e.t1,_.a.error(r.message||"An error occurred, please try again!");case 19:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.list,r=e.searching,n=e.pagination;return D(p.Fragment,{__self:this,__source:{fileName:C,lineNumber:116,columnNumber:7}},D(b.a,{__self:this,__source:{fileName:C,lineNumber:117,columnNumber:9}},D("title",{__self:this,__source:{fileName:C,lineNumber:118,columnNumber:11}},"Products")),D(q.a,{breadcrumbs:[{title:"Products"}],__self:this,__source:{fileName:C,lineNumber:120,columnNumber:9}}),D(v.a,{__self:this,__source:{fileName:C,lineNumber:121,columnNumber:9}},D(N.a,{statuses:[{key:"",text:"All"},{key:"active",text:"Active"},{key:"inactive",text:"Inactive"}],onSubmit:this.handleFilter.bind(this),searchWithPerformer:!0,performerId:this.props.performerId||"",__self:this,__source:{fileName:C,lineNumber:122,columnNumber:11}}),D("div",{style:{marginBottom:"20px"},__self:this,__source:{fileName:C,lineNumber:128,columnNumber:11}}),D(E,{dataSource:t,rowKey:"_id",loading:r,pagination:n,onChange:this.handleTableChange.bind(this),deleteProduct:this.deleteProduct.bind(this),__self:this,__source:{fileName:C,lineNumber:129,columnNumber:11}})))}}],[{key:"getInitialProps",value:function(){var e=Object(a.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ctx,e.abrupt("return",r.query);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),r}(p.PureComponent);t.default=M},"2yP/":function(e,t,r){"use strict";r("AyyA");var n=r("S82o");r.d(t,"a",(function(){return n.a}));var c=r("hZ3H");r.d(t,"b",(function(){return c.a}))},G3dp:function(e,t,r){"use strict";var n=r("q1tI"),c={name:"edit",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]}},a=r("6VBw"),u=function(e,t){return n.createElement(a.a,Object.assign({},e,{ref:t,icon:c}))};u.displayName="EditOutlined";t.a=n.forwardRef(u)},"HR6+":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("1OyB"),c=r("vuIU"),a=r("Ji7U"),u=r("md7G"),o=r("foSv");function i(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(o.a)(e);if(t){var c=Object(o.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var s=new(function(e){Object(a.a)(r,e);var t=i(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"createProduct",value:function(e,t,r){return this.upload("/admin/performer-assets/products",e,{onProgress:r,customData:t})}},{key:"update",value:function(e,t,r,n){return this.upload("/admin/performer-assets/products/".concat(e),t,{onProgress:n,customData:r,method:"PUT"})}},{key:"search",value:function(e){return this.get(this.buildUrl("/admin/performer-assets/products/search",e))}},{key:"findById",value:function(e){return this.get("/admin/performer-assets/products/".concat(e,"/view"))}},{key:"delete",value:function(e){return this.del("/admin/performer-assets/products/".concat(e))}}]),r}(r("/bfT").a))},S82o:function(e,t,r){"use strict";r.d(t,"a",(function(){return _}));var n=r("1OyB"),c=r("vuIU"),a=r("Ji7U"),u=r("md7G"),o=r("foSv"),i=r("q1tI"),s=r.n(i),l=r("bE4q"),f=r("uqfK"),m=r("YFqc"),p=r.n(m),d="/var/www/admin.dtest.live/src/components/common/breadcrumb.tsx",h=s.a.createElement;function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(o.a)(e);if(t){var c=Object(o.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var _=function(e){Object(a.a)(r,e);var t=b(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this,t=this.props.breadcrumbs;return h("div",{style:{marginBottom:"16px"},__self:this,__source:{fileName:d,lineNumber:19,columnNumber:7}},h(l.a,{__self:this,__source:{fileName:d,lineNumber:20,columnNumber:9}},h(l.a.Item,{href:"/dashboard",__self:this,__source:{fileName:d,lineNumber:21,columnNumber:11}},h(f.a,{__self:this,__source:{fileName:d,lineNumber:22,columnNumber:13}})),t&&t.length>0&&t.map((function(t,r){return h(l.a.Item,{key:r,__self:e,__source:{fileName:d,lineNumber:27,columnNumber:15}},t.href?h(p.a,{href:t.href,__self:e,__source:{fileName:d,lineNumber:29,columnNumber:19}},h("a",{__self:e,__source:{fileName:d,lineNumber:30,columnNumber:21}},t.title)):t.title)}))))}}]),r}(i.PureComponent)},hZ3H:function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var n=r("wx14"),c=r("rePB"),a=r("1OyB"),u=r("vuIU"),o=r("Ji7U"),i=r("md7G"),s=r("foSv"),l=r("q1tI"),f=r.n(l),m=r("8Skl"),p=r("BvKs"),d=r("jsC+"),h=r("2/Rp"),b="/var/www/admin.dtest.live/src/components/common/dropdown-action.tsx",_=f.a.createElement;function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){Object(c.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var c=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(i.a)(this,r)}}var O=function(e){Object(o.a)(r,e);var t=N(r);function r(){return Object(a.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.menuOptions,c=void 0===r?[]:r,a=t.buttonStyle,u=t.dropdownProps,o=t.nameButtonMain,i=c.map((function(t){return _(p.a.Item,{key:t.key,onClick:function(){return t.onClick&&t.onClick()},__self:e,__source:{fileName:b,lineNumber:28,columnNumber:7}},t.children||t.name)}));return _(d.a,Object(n.a)({overlay:_(p.a,{__self:this,__source:{fileName:b,lineNumber:33,columnNumber:26}},i)},u,{__self:this,__source:{fileName:b,lineNumber:33,columnNumber:7}}),_(h.a,{style:y({},a),__self:this,__source:{fileName:b,lineNumber:34,columnNumber:9}},o||"Action",_(m.a,{__self:this,__source:{fileName:b,lineNumber:36,columnNumber:11}})))}}]),r}(l.PureComponent)},na2x:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r("1OyB"),c=r("vuIU"),a=r("Ji7U"),u=r("md7G"),o=r("foSv"),i=r("q1tI"),s=r.n(i).a.createElement;function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(o.a)(e);if(t){var c=Object(o.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var f=function(e){Object(a.a)(r,e);var t=l(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props.product.image;return s("img",{src:e||"/product.png",style:this.props.style||{width:70},__self:this,__source:{fileName:"/var/www/admin.dtest.live/src/components/product/image-product.tsx",lineNumber:13,columnNumber:12}})}}]),r}(i.PureComponent)},uqfK:function(e,t,r){"use strict";var n=r("q1tI"),c={name:"home",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]}},a=r("6VBw"),u=function(e,t){return n.createElement(a.a,Object.assign({},e,{ref:t,icon:c}))};u.displayName="HomeOutlined";t.a=n.forwardRef(u)},wmiO:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product",function(){return r("1B2r")}])}},[["wmiO",0,1,9,16,23,2,4,5,6,7,10,8,12,11,13,14,15,17,18,19,20,22,24,26,3]]]);