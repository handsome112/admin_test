(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{"1Azy":function(e,t,r){"use strict";r.r(t);var n=r("o0o1"),i=r.n(n),a=r("HaE+"),u=r("1OyB"),c=r("vuIU"),o=r("JX7q"),s=r("Ji7U"),l=r("md7G"),f=r("foSv"),m=r("rePB"),b=r("q1tI"),d=r.n(b),_=r("8Kt/"),h=r.n(_),p=r("tsqr"),N=r("Bfpx"),y=r("CLrh"),v=r("mr32"),O=r("wCAj"),g=r("9BLJ"),j=r("ADto"),w=r("YFqc"),x=r.n(w),P="/var/www/admin.dtest.live/src/components/order/table-list.tsx",k=d.a.createElement,B=function(e){var t=e.dataSource,r=e.pagination,n=e.rowKey,i=e.loading,a=e.onChange,u=[{title:"Buyer",dataIndex:"buyerId",key:"buyerInfo",sorter:!0,render:function(e,t){var r;return k("p",{__self:this,__source:{fileName:P,lineNumber:29,columnNumber:16}},k("span",{__self:this,__source:{fileName:P,lineNumber:30,columnNumber:11}},"@",(null===t||void 0===t?void 0:null===(r=t.buyerInfo)||void 0===r?void 0:r.username)||"N/A"))}},{title:"Seller",dataIndex:"sellerInfo",key:"sellerInfo",sorter:!0,render:function(e,t){return"system"===t.sellerSource?"System":k("span",{__self:this,__source:{fileName:P,lineNumber:42,columnNumber:11}},"@",(null===e||void 0===e?void 0:e.username)||"N/A")}},{title:"Product info",dataIndex:"name",sorter:!1,render:function(e,t){return k("p",{__self:this,__source:{fileName:P,lineNumber:53,columnNumber:16}},k("span",{__self:this,__source:{fileName:P,lineNumber:54,columnNumber:11}},t.name)," ",k("br",{__self:this,__source:{fileName:P,lineNumber:54,columnNumber:38}}),k("small",{__self:this,__source:{fileName:P,lineNumber:55,columnNumber:11}},t.description))}},{title:"Quantity",dataIndex:"quantity",sorter:!0,render:function(e){return k("span",{__self:this,__source:{fileName:P,lineNumber:64,columnNumber:16}},e)}},{title:"Total Price (token)",dataIndex:"totalPrice",sorter:!0,render:function(e){return k("span",{__self:this,__source:{fileName:P,lineNumber:72,columnNumber:16}},null===e||void 0===e?void 0:e.toFixed(2))}},{title:"Delivery Status",dataIndex:"deliveryStatus",render:function(e){switch(e){case"processing":return k(v.a,{color:"default",__self:this,__source:{fileName:P,lineNumber:81,columnNumber:20}},"Processing");case"shipping":return k(v.a,{color:"warning",__self:this,__source:{fileName:P,lineNumber:83,columnNumber:20}},"Shipping");case"delivered":return k(v.a,{color:"success",__self:this,__source:{fileName:P,lineNumber:85,columnNumber:20}},"Delivered");case"refunded":return k(v.a,{color:"volcano",__self:this,__source:{fileName:P,lineNumber:87,columnNumber:20}},"Refunded")}}},{title:"Last updated at",dataIndex:"createdAt",sorter:!0,render:function(e){return k("span",{__self:this,__source:{fileName:P,lineNumber:96,columnNumber:16}},Object(j.b)(e))}},{title:"Actions",dataIndex:"_id",fixed:"right",sorter:!0,render:function(e){return k(x.a,{href:{pathname:"/order/detail",query:{id:e}},__self:this,__source:{fileName:P,lineNumber:106,columnNumber:11}},k("a",{__self:this,__source:{fileName:P,lineNumber:107,columnNumber:13}},k(g.a,{__self:this,__source:{fileName:P,lineNumber:108,columnNumber:15}})))}}];return k(O.a,{dataSource:t,columns:u,pagination:r,rowKey:n,loading:i,onChange:a.bind(void 0),__self:void 0,__source:{fileName:P,lineNumber:116,columnNumber:5}})},S=r("2yP/"),I=r("AyyA"),R="/var/www/admin.dtest.live/pages/order/index.tsx",A=d.a.createElement;function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){Object(m.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var D=function(e){Object(s.a)(r,e);var t=E(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),Object(m.a)(Object(o.a)(e),"state",{pagination:{},searching:!1,list:[],limit:10,filter:{},sortBy:"createdAt",sort:"desc"}),Object(m.a)(Object(o.a)(e),"handleTableChange",(function(t,r,n){var i=q({},e.state.pagination);i.current=t.current,e.setState({pagination:i,sortBy:n.field||"createdAt",sort:n.order?"descend"===n.order?"desc":"asc":"desc"}),e.search(i.current)})),e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.search();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(a.a)(i.a.mark((function e(){var t,r,n=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:1,e.prev=1,e.next=4,this.setState({searching:!0});case 4:return e.next=6,y.c.search(q(q({},this.state.filter),{},{limit:this.state.limit,offset:(t-1)*this.state.limit,sort:this.state.sort,sortBy:this.state.sortBy}));case 6:return r=e.sent,e.next=9,this.setState({searching:!1,list:r.data.data,pagination:q(q({},this.state.pagination),{},{total:r.data.total,pageSize:this.state.limit})});case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(1),p.a.error("An error occurred, please try again!"),e.next=16,this.setState({searching:!1});case 16:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleFilter",value:function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({filter:{deliveryStatus:t.status,q:t.q}});case 2:this.search();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.list,r=e.searching,n=e.pagination;return A(b.Fragment,{__self:this,__source:{fileName:R,lineNumber:107,columnNumber:7}},A(h.a,{__self:this,__source:{fileName:R,lineNumber:108,columnNumber:9}},A("title",{__self:this,__source:{fileName:R,lineNumber:109,columnNumber:11}},"Orders")),A(N.a,{__self:this,__source:{fileName:R,lineNumber:111,columnNumber:9}},A("div",{className:"main-container",__self:this,__source:{fileName:R,lineNumber:112,columnNumber:11}},A(S.a,{breadcrumbs:[{title:"Orders",href:"/order"}],__self:this,__source:{fileName:R,lineNumber:113,columnNumber:13}}),A(I.a,{statuses:[{key:"",text:"All"},{key:"processing",text:"Processing"},{key:"shipping",text:"Shipping"},{key:"delivered",text:"Delivered"},{key:"refunded",text:"Refunded"}],onSubmit:this.handleFilter.bind(this),notWithKeyWord:!0,__self:this,__source:{fileName:R,lineNumber:116,columnNumber:13}}),A("div",{style:{marginBottom:"20px"},__self:this,__source:{fileName:R,lineNumber:121,columnNumber:13}}),A(B,{dataSource:t,rowKey:"_id",loading:r,pagination:n,onChange:this.handleTableChange.bind(this),__self:this,__source:{fileName:R,lineNumber:122,columnNumber:13}}))))}}],[{key:"getInitialProps",value:function(){var e=Object(a.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ctx,e.abrupt("return",r.query);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),r}(b.PureComponent);Object(m.a)(D,"authenticate",!0),Object(m.a)(D,"onlyPerformer",!0);t.default=D},"2yP/":function(e,t,r){"use strict";r("AyyA");var n=r("S82o");r.d(t,"a",(function(){return n.a}));var i=r("hZ3H");r.d(t,"b",(function(){return i.a}))},"9BLJ":function(e,t,r){"use strict";var n=r("q1tI"),i={name:"eye",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]}},a=r("6VBw"),u=function(e,t){return n.createElement(a.a,Object.assign({},e,{ref:t,icon:i}))};u.displayName="EyeOutlined";t.a=n.forwardRef(u)},S82o:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r("1OyB"),i=r("vuIU"),a=r("Ji7U"),u=r("md7G"),c=r("foSv"),o=r("q1tI"),s=r.n(o),l=r("bE4q"),f=r("uqfK"),m=r("YFqc"),b=r.n(m),d="/var/www/admin.dtest.live/src/components/common/breadcrumb.tsx",_=s.a.createElement;function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var p=function(e){Object(a.a)(r,e);var t=h(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){var e=this,t=this.props.breadcrumbs;return _("div",{style:{marginBottom:"16px"},__self:this,__source:{fileName:d,lineNumber:19,columnNumber:7}},_(l.a,{__self:this,__source:{fileName:d,lineNumber:20,columnNumber:9}},_(l.a.Item,{href:"/dashboard",__self:this,__source:{fileName:d,lineNumber:21,columnNumber:11}},_(f.a,{__self:this,__source:{fileName:d,lineNumber:22,columnNumber:13}})),t&&t.length>0&&t.map((function(t,r){return _(l.a.Item,{key:r,__self:e,__source:{fileName:d,lineNumber:27,columnNumber:15}},t.href?_(b.a,{href:t.href,__self:e,__source:{fileName:d,lineNumber:29,columnNumber:19}},_("a",{__self:e,__source:{fileName:d,lineNumber:30,columnNumber:21}},t.title)):t.title)}))))}}]),r}(o.PureComponent)},hZ3H:function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var n=r("wx14"),i=r("rePB"),a=r("1OyB"),u=r("vuIU"),c=r("Ji7U"),o=r("md7G"),s=r("foSv"),l=r("q1tI"),f=r.n(l),m=r("8Skl"),b=r("BvKs"),d=r("jsC+"),_=r("2/Rp"),h="/var/www/admin.dtest.live/src/components/common/dropdown-action.tsx",p=f.a.createElement;function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var O=function(e){Object(c.a)(r,e);var t=v(r);function r(){return Object(a.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.menuOptions,i=void 0===r?[]:r,a=t.buttonStyle,u=t.dropdownProps,c=t.nameButtonMain,o=i.map((function(t){return p(b.a.Item,{key:t.key,onClick:function(){return t.onClick&&t.onClick()},__self:e,__source:{fileName:h,lineNumber:28,columnNumber:7}},t.children||t.name)}));return p(d.a,Object(n.a)({overlay:p(b.a,{__self:this,__source:{fileName:h,lineNumber:33,columnNumber:26}},o)},u,{__self:this,__source:{fileName:h,lineNumber:33,columnNumber:7}}),p(_.a,{style:y({},a),__self:this,__source:{fileName:h,lineNumber:34,columnNumber:9}},c||"Action",p(m.a,{__self:this,__source:{fileName:h,lineNumber:36,columnNumber:11}})))}}]),r}(l.PureComponent)},uqfK:function(e,t,r){"use strict";var n=r("q1tI"),i={name:"home",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]}},a=r("6VBw"),u=function(e,t){return n.createElement(a.a,Object.assign({},e,{ref:t,icon:i}))};u.displayName="HomeOutlined";t.a=n.forwardRef(u)},vpBV:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/order",function(){return r("1Azy")}])}},[["vpBV",0,1,9,16,23,2,4,5,6,7,10,8,12,11,13,14,15,17,18,19,20,22,24,25,26,3]]]);