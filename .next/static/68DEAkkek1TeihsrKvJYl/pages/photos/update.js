(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{GXLZ:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/photos/update",function(){return r("NhNo")}])},NhNo:function(t,e,r){"use strict";r.r(e);var n=r("o0o1"),a=r.n(n),o=r("HaE+"),i=r("1OyB"),c=r("vuIU"),u=r("JX7q"),s=r("Ji7U"),f=r("md7G"),l=r("foSv"),p=r("rePB"),h=r("q1tI"),b=r.n(h),m=r("8Kt/"),v=r.n(m),_=r("Bfpx"),d=r("tsqr"),y=r("7QX/"),O=r("TW7V"),w=r("2yP/"),N=r("Dlvs"),g="/var/www/admin.dtest.live/pages/photos/update.tsx",j=b.a.createElement;function P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function k(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?P(Object(r),!0).forEach((function(e){Object(p.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function x(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(l.a)(t);if(e){var a=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}var S=function(t){Object(s.a)(r,t);var e=x(r);function r(){var t;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a)),Object(p.a)(Object(u.a)(t),"state",{submitting:!1,fetching:!0,photo:{}}),t}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var t=Object(o.a)(a.a.mark((function t(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.a.findById(this.props.id);case 3:e=t.sent,this.setState({photo:e.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),d.a.error("Photo not found!");case 10:return t.prev=10,this.setState({fetching:!1}),t.finish(10);case 13:case"end":return t.stop()}}),t,this,[[0,7,10,13]])})));return function(){return t.apply(this,arguments)}}()},{key:"submit",value:function(){var t=Object(o.a)(a.a.mark((function t(e){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.setState({submitting:!0}),r=k({},e),t.next=5,y.a.update(this.props.id,r);case 5:d.a.success("Updated successfully"),this.setState({submitting:!1}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),d.a.error("Something went wrong, please try again!"),this.setState({submitting:!1});case 13:case"end":return t.stop()}}),t,this,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state,e=t.photo,r=t.submitting,n=t.fetching;return j(h.Fragment,{__self:this,__source:{fileName:g,lineNumber:55,columnNumber:7}},j(v.a,{__self:this,__source:{fileName:g,lineNumber:56,columnNumber:9}},j("title",{__self:this,__source:{fileName:g,lineNumber:57,columnNumber:11}},"Update Photo")),j(w.a,{breadcrumbs:[{title:"Photos",href:"/photos"},{title:e.title?e.title:"Detail photo"},{title:"Update"}],__self:this,__source:{fileName:g,lineNumber:59,columnNumber:9}}),j(_.a,{__self:this,__source:{fileName:g,lineNumber:66,columnNumber:9}},n?j(O.a,{__self:this,__source:{fileName:g,lineNumber:68,columnNumber:13}}):j(N.a,{photo:e,submit:this.submit.bind(this),uploading:r,__self:this,__source:{fileName:g,lineNumber:70,columnNumber:13}})))}}],[{key:"getInitialProps",value:function(){var t=Object(o.a)(a.a.mark((function t(e){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.ctx,t.abrupt("return",r.query);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),r}(h.PureComponent);e.default=S}},[["GXLZ",0,1,9,17,2,4,5,6,7,8,10,11,12,13,14,15,16,19,18,20,21,28,42,3]]]);